# 9.1.1 Role of the Transport Layer
Application layer programs generate data that must be exchanged between source and destination hosts. The transport layer is responsible for logical communications between applications running on different hosts. This may include services such as establishing a temporary session between two hosts and the reliable transmission of information for an application.
The transport layer has no knowledge of the destination host type, the type of media over which the data must travel, the path taken by the data, the congestion on a link, or the size of the network.

The transport layer includes two protocols:

- Transmission Control Protocol (TCP)
- User Datagram Protocol (UDP)

# 9.1.2 Transport Layer Responsibilities
- Tracking Individual Conversations
- Segmenting Data and Reassembling Segments
- Add Header Information
- Identifying the Applications
- Conversation Multiplexing
# 9.1.3 Transport Layer Protocols
Transport layer protocols specify how to transfer messages between hosts, and are responsible for managing reliability requirements of a conversation. The transport layer includes the TCP and UDP protocols.
# 9.1.4 Transmission Control Protocol (TCP)
TCP is considered a reliable, full-featured transport layer protocol, which ensures that all of the data arrives at the destination. TCP includes fields which ensure the delivery of the application data. These fields require additional processing by the sending and receiving hosts.

**Note:** TCP divides data into segments.

TCP transport is analogous to sending packages that are tracked from source to destination. If a shipping order is broken up into several packages, a customer can check online to see the order of the delivery.

TCP provides reliability and flow control using these basic operations:

- Number and track data segments transmitted to a specific host from a specific application
- Acknowledge received data
- Retransmit any unacknowledged data after a certain amount of time
- Sequence data that might arrive in wrong order
- Send data at an efficient rate that is acceptable by the receiver
# 9.1.5 TCP Header
TCP is a stateful protocol which means it keeps track of the state of the communication session. To track the state of a session, TCP records which information it has sent and which information has been acknowledged. The stateful session begins with the session establishment and ends with the session termination.
![[tcpheader.png]]

# 9.1.6 TCP Header Fields

|**TCP Header Field**|**Description**|
|---|---|
|**Source Port**|A 16-bit field used to identify the source application by port number.|
|**Destination Port**|A 16-bit field used to identify the destination application by port number.|
|**Sequence Number**|A 32-bit field used for data reassembly purposes.|
|**Acknowledgment Number**|A 32-bit field used to indicate that data has been received and the next byte expected from the source.|
|**Header Length**|A 4-bit field known as ʺdata offsetʺ that indicates the length of the TCP segment header.|
|**Reserved**|A 6-bit field that is reserved for future use.|
|**Control bits**|A 6-bit field that includes bit codes, or flags, which indicate the purpose and function of the TCP segment.|
|**Window size**|A 16-bit field used to indicate the number of bytes that can be accepted at one time.|
|**Checksum**|A 16-bit field used for error checking of the segment header and data.|
|**Urgent**|A 16-bit field used to indicate if the contained data is urgent.|

# 9.1.7 User Datagram Protocol (UDP)
UDP is a simpler transport layer protocol than TCP. It does not provide reliability and flow control, which means it requires fewer header fields. Because the sender and the receiver UDP processes do not have to manage reliability and flow control, this means UDP datagrams can be processed faster than TCP segments. UDP provides the basic functions for delivering datagrams between the appropriate applications, with very little overhead and data checking.

**Note:** UDP divides data into datagrams that are also referred to as segments.

UDP is a connectionless protocol. Because UDP does not provide reliability or flow control, it does not require an established connection. Because UDP does not track information sent or received between the client and server, UDP is also known as a stateless protocol.

UDP is also known as a best-effort delivery protocol because there is no acknowledgment that the data is received at the destination. With UDP, there are no transport layer processes that inform the sender of a successful delivery.

UDP is like placing a regular, nonregistered, letter in the mail. The sender of the letter is not aware of the availability of the receiver to receive the letter. Nor is the post office responsible for tracking the letter or informing the sender if the letter does not arrive at the final destination.
# 9.1.8 UDP Header
![[UDPHeaderIMG.png]]
# 9.1.9 UDP Header Fields

|**UDP Header Field**|**Description**|
|---|---|
|**Source Port**|A 16-bit field used to identify the source application by port number.|
|**Destination Port**|A 16-bit field used to identify the destination application by port number.|
|**Length**|A 16-bit field that indicates the length of the UDP datagram header.|
|**Checksum**|A 16-bit field used for error checking of the datagram header and data.|

# 9.1.10 Socket Pairs
The source and destination ports are placed within the segment. The segments are then encapsulated within an IP packet. The IP packet contains the IP address of the source and destination. The combination of the source IP address and source port number, or the destination IP address and destination port number is known as a socket.